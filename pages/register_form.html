<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <meta name="theme-color" content="#e73c7e">
    <title>–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
    
    <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/style_register.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Preload -->
    <link rel="preload" href="../js/theme.js" as="script">
    <link rel="preload" href="../js/animations.js" as="script">
    <link rel="preload" href="../js/auth.js" as="script">
</head>
<body class="register-page">
    <!-- –î–µ–∫–æ—Ä–∞—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <div class="bubbles">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä -->
    <main class="container">
        <div class="register-form-container glass-container fade-in">
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <header class="form-header">
                <div class="logo">
                    <i class="fas fa-user-plus"></i>
                </div>
                <h1 class="form-title">–°–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç</h1>
                <p class="form-subtitle">–ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏</p>
            </header>
            
            <!-- –§–æ—Ä–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
            <form id="registerForm" class="register-form">
                <!-- –ò–º—è -->
                <div class="form-group">
                    <label for="registerName" class="form-label">
                        <i class="fas fa-user"></i>
                        –í–∞—à–µ –∏–º—è
                    </label>
                    <input 
                        type="text" 
                        id="registerName" 
                        class="form-input" 
                        placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤" 
                        required
                        autocomplete="name"
                        autofocus
                    >
                </div>
                
                <!-- Email -->
                <div class="form-group">
                    <label for="registerEmail" class="form-label">
                        <i class="fas fa-envelope"></i>
                        Email –∞–¥—Ä–µ—Å
                    </label>
                    <input 
                        type="email" 
                        id="registerEmail" 
                        class="form-input" 
                        placeholder="example@email.com" 
                        required
                        autocomplete="email"
                    >
                </div>
                
                <!-- –ü–∞—Ä–æ–ª—å -->
                <div class="form-group">
                    <label for="registerPassword" class="form-label">
                        <i class="fas fa-lock"></i>
                        –ü–∞—Ä–æ–ª—å
                    </label>
                    <div class="password-input-wrapper">
                        <input 
                            type="password" 
                            id="registerPassword" 
                            class="form-input" 
                            placeholder="–ü—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å" 
                            required
                            autocomplete="new-password"
                        >
                        <button type="button" class="toggle-password" data-target="registerPassword" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="password-hints">
                        <p class="hint-title">
                            <i class="fas fa-info-circle"></i>
                            –ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
                        </p>
                        <ul class="hint-list">
                            <li class="hint-item" data-rule="length">‚úì –ù–µ –º–µ–Ω–µ–µ 6 —Å–∏–º–≤–æ–ª–æ–≤</li>
                            <li class="hint-item" data-rule="uppercase">‚úì –•–æ—Ç—è –±—ã –æ–¥–Ω—É –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É</li>
                            <li class="hint-item" data-rule="number">‚úì –•–æ—Ç—è –±—ã –æ–¥–Ω—É —Ü–∏—Ñ—Ä—É</li>
                        </ul>
                    </div>
                    <div class="password-strength" id="passwordStrength">
                    <div class="strength-bar">
                        <div class="strength-fill" id="strengthFill"></div>
                    </div>
                    <div class="strength-text" id="strengthText">–°–ª–∞–±—ã–π</div>
                </div>
                </div>
                
                <!-- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è -->
                <div class="form-group">
                    <label for="confirmPassword" class="form-label">
                        <i class="fas fa-lock"></i>
                        –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
                    </label>
                    <div class="password-input-wrapper">
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            class="form-input" 
                            placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" 
                            required
                            autocomplete="new-password"
                        >
                        <button type="button" class="toggle-password" data-target="confirmPassword" aria-label="–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å">
                            <i class="fas fa-eye"></i>
                        </button>
                    </div>
                    <div class="password-match" id="passwordMatch">
                        <i class="fas fa-times"></i>
                        <span>–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç</span>
                    </div>
                </div>
                
                <!-- –°–æ–≥–ª–∞—à–µ–Ω–∏–µ -->
                <div class="form-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="agreeTerms" required>
                        <span class="checkmark"></span>
                        <span class="checkbox-text">
                            –Ø —Å–æ–≥–ª–∞—à–∞—é—Å—å —Å 
                            <a href="#" class="terms-link">–£—Å–ª–æ–≤–∏—è–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a>
                            –∏ 
                            <a href="#" class="terms-link">–ü–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a>
                        </span>
                    </label>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ -->
                <div class="form-group">
                    <button type="submit" class="btn btn-primary submit-btn" id="registerSubmit">
                        <span>–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</span>
                        <i class="fas fa-user-plus submit-icon"></i>
                    </button>
                </div>
                
                <!-- –°–æ–æ–±—â–µ–Ω–∏—è -->
                <div id="registerMessage" class="message" aria-live="polite"></div>
                
                <!-- –ü—Ä–æ–≥—Ä–µ—Å—Å –ø–∞—Ä–æ–ª—è -->
                <!-- <div class="password-strength" id="passwordStrength">
                    <div class="strength-bar">
                        <div class="strength-fill" id="strengthFill"></div>
                    </div>
                    <div class="strength-text" id="strengthText">–°–ª–∞–±—ã–π</div>
                </div> -->
                
                <!-- –°—Å—ã–ª–∫–∏ -->
                <div class="form-links">
                    <a href="login_form.html" class="form-link">
                        <i class="fas fa-sign-in-alt"></i>
                        <span>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? –í–æ–π–¥–∏—Ç–µ</span>
                    </a>
                    <a href="../index.html" class="form-link">
                        <i class="fas fa-home"></i>
                        <span>–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</span>
                    </a>
                </div>
            </form>
            
            <!-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ç–µ–º—ã -->
            <!-- <div class="theme-section">
                <button id="themeToggle" class="btn theme-btn">
                    <span class="theme-icon">üåô</span>
                    <span class="theme-text">–¢—ë–º–Ω–∞—è —Ç–µ–º–∞</span>
                </button>
            </div> -->
        </div>
    </main>
    
    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script src="../js/theme.js"></script>
    <script src="../js/animations.js"></script>
    <script src="../js/auth.js"></script>
    
    <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ä–æ–ª—è -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üìù –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–∞');
            
            // –§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –∏–º–µ–Ω–∏
            setTimeout(() => {
                const nameInput = document.getElementById('registerName');
                if (nameInput) {
                    nameInput.focus();
                }
            }, 300);
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–π –ø–∞—Ä–æ–ª—è
            const toggleButtons = document.querySelectorAll('.toggle-password');
            
            toggleButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    const passwordInput = document.getElementById(targetId);
                    
                    if (passwordInput) {
                        if (passwordInput.type === 'password') {
                            passwordInput.type = 'text';
                            this.innerHTML = '<i class="fas fa-eye-slash"></i>';
                            this.setAttribute('aria-label', '–°–∫—Ä—ã—Ç—å –ø–∞—Ä–æ–ª—å');
                        } else {
                            passwordInput.type = 'password';
                            this.innerHTML = '<i class="fas fa-eye"></i>';
                            this.setAttribute('aria-label', '–ü–æ–∫–∞–∑–∞—Ç—å –ø–∞—Ä–æ–ª—å');
                        }
                    }
                });
            });
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è
            const passwordInput = document.getElementById('registerPassword');
            const confirmInput = document.getElementById('confirmPassword');
            const strengthFill = document.getElementById('strengthFill');
            const strengthText = document.getElementById('strengthText');
            const passwordMatch = document.getElementById('passwordMatch');
            const hintItems = document.querySelectorAll('.hint-item');
            
            if (passwordInput) {
                passwordInput.addEventListener('input', function() {
                    const password = this.value;
                    let strength = 0;
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã
                    if (password.length >= 6) {
                        strength += 1;
                        updateHint('length', true);
                    } else {
                        updateHint('length', false);
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥–ª–∞–≤–Ω–æ–π –±—É–∫–≤—ã
                    if (/[A-Z–ê-–Ø]/.test(password)) {
                        strength += 1;
                        updateHint('uppercase', true);
                    } else {
                        updateHint('uppercase', false);
                    }
                    
                    // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–∏—Ñ—Ä—ã
                    if (/\d/.test(password)) {
                        strength += 1;
                        updateHint('number', true);
                    } else {
                        updateHint('number', false);
                    }
                    
                    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å–∏–ª—ã
                    updateStrengthIndicator(strength);
                });
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –ø–∞—Ä–æ–ª–µ–π
            if (confirmInput && passwordInput) {
                confirmInput.addEventListener('input', function() {
                    const password = passwordInput.value;
                    const confirm = this.value;
                    
                    if (confirm.length > 0) {
                        if (password === confirm) {
                            passwordMatch.innerHTML = '<i class="fas fa-check"></i><span>–ü–∞—Ä–æ–ª–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç</span>';
                            passwordMatch.style.color = 'var(--accent-success)';
                        } else {
                            passwordMatch.innerHTML = '<i class="fas fa-times"></i><span>–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç</span>';
                            passwordMatch.style.color = 'var(--accent-error)';
                        }
                        passwordMatch.style.opacity = '1';
                    } else {
                        passwordMatch.style.opacity = '0';
                    }
                });
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–æ–∫
            function updateHint(rule, isValid) {
                const hintItem = document.querySelector(`.hint-item[data-rule="${rule}"]`);
                if (hintItem) {
                    if (isValid) {
                        hintItem.style.color = 'var(--accent-success)';
                        hintItem.innerHTML = '‚úì ' + hintItem.textContent.substring(2);
                    } else {
                        hintItem.style.color = 'var(--accent-error)';
                        hintItem.innerHTML = '‚úó ' + hintItem.textContent.substring(2);
                    }
                }
            }
            
            // –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞ —Å–∏–ª—ã
            function updateStrengthIndicator(strength) {
                if (!strengthFill || !strengthText) return;
                
                let percentage = 0;
                let text = '';
                let color = '';
                
                switch(strength) {
                    case 0:
                        percentage = 10;
                        text = '–û—á–µ–Ω—å —Å–ª–∞–±—ã–π';
                        color = '#ff6b6b';
                        break;
                    case 1:
                        percentage = 30;
                        text = '–°–ª–∞–±—ã–π';
                        color = '#ffa726';
                        break;
                    case 2:
                        percentage = 60;
                        text = '–°—Ä–µ–¥–Ω–∏–π';
                        color = '#fdd835';
                        break;
                    case 3:
                        percentage = 100;
                        text = '–°–∏–ª—å–Ω—ã–π';
                        color = '#23d5ab';
                        break;
                }
                
                strengthFill.style.width = percentage + '%';
                strengthFill.style.background = color;
                strengthText.textContent = text;
                strengthText.style.color = color;
            }
        });
    </script>
    <script src="../js/theme.js"></script>
    <script src="../js/animations.js"></script>
    <script src="../js/db.js"></script>
</body>
</html>